import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.util.ArrayList;


import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.File;
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//Song backend
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



public class SongLibrary 

{
	ArrayList<Song> songLibrary;

	SongLibrary()
	{
		songLibrary = new ArrayList<Song>();
	}
	
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	///Move song order
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////	
	
	
	
	
	public void swapSongs(int a, int b)
	
	{
		Song temp = songLibrary.get(a);
		songLibrary.set(a, songLibrary.get(b));
		songLibrary.set(b, temp);
	}
	
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//save song txt
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	
	public void saveLibrary(File f)
	{
		try 
		
		{
			BufferedWriter overW = new BufferedWriter(new FileWriter(f));
			
			//index
			
			overW.write(Integer.toString(songLibrary.size()) + "\n");
			
			for (int i=0; i<songLibrary.size(); i++)
			{
				overW.write(songLibrary.get(i).songTitle + "\n");
				
				overW.write(songLibrary.get(i).artist + "\n");
				
				overW.write(songLibrary.get(i).albumName + "\n");
				
				overW.write(songLibrary.get(i).genre + "\n");
				
				overW.write(songLibrary.get(i).songPath + "\n");
				
				overW.write("\n");
			}
			
			overW.close();
		} 
		
		catch (IOException e) 
		
		{
			e.printStackTrace();
		}
		
	}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//Load in  read song txt
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	
	public void loadLibrary(File f)
	
	{
		songLibrary = new ArrayList<Song>();
		
		try 
		
		{
			BufferedReader readBuff = new BufferedReader(new FileReader(f));
			int size = Integer.parseInt(readBuff.readLine());
			for (int i=0; i<size; i++)
			{
				
				String title = readBuff.readLine();
				String artist = readBuff.readLine();
				String album = readBuff.readLine();
				String genre = readBuff.readLine();
				String path = readBuff.readLine();
				readBuff.readLine();
				
				Song currSong = new Song(title, artist, album, genre, path);
				songLibrary.add(currSong);
			}
			readBuff.close();
		} 
		
		catch (NumberFormatException | IOException e) 
		
		{
			e.printStackTrace();
		}
	}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//Sort by alpha
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	
	public void sortSongLibrary()
	{
		for (int i=0; i<songLibrary.size()-1; i++)
		{
			for (int y=i+1; y<songLibrary.size(); y++)
			{
				if (songLibrary.get(i).compareTo(songLibrary.get(y))>0)
				{
					swapSongs(i, y);
				}
			}
		}
	}
	
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//add to Lib arr
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	
	
	public void addSong(Song currSong)
	{
		songLibrary.add(currSong);
	}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//return Song
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	
	public Song getSong(int i)
	{
		return songLibrary.get(i);
	}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//Update Inedex Size
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	
	public int librarySize()
	{
		return songLibrary.size();
	}
	

}
